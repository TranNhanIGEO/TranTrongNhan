2024-08-23 10:15:37.889 +07:00 [Error] Exception: "Error mapping types.

Mapping types:
List`1 -> IList`1
System.Collections.Generic.List`1[[SoftKiwiFlorist.Models.Entities.CartItem, SoftKiwiFlorist, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.IList`1[[SoftKiwiFlorist.Models.DTOs.CartItemResDTO, SoftKiwiFlorist, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
List`1 -> IList`1
System.Collections.Generic.List`1[[SoftKiwiFlorist.Models.Entities.CartItem, SoftKiwiFlorist, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.IList`1[[SoftKiwiFlorist.Models.DTOs.CartItemResDTO, SoftKiwiFlorist, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
CartItem -> CartItemResDTO
SoftKiwiFlorist.Models.Entities.CartItem -> SoftKiwiFlorist.Models.DTOs.CartItemResDTO

Type Map configuration:
CartItem -> CartItemResDTO
SoftKiwiFlorist.Models.Entities.CartItem -> SoftKiwiFlorist.Models.DTOs.CartItemResDTO

Destination Member:
ProductPrice

 ---> System.MissingMethodException: Attempted to invoke a deleted method implementation. This can happen when a method is deleted or its name or signature is changed while the application is running.
   at SoftKiwiFlorist.Models.DTOs.CartItemResDTO.set_ProductPrice(String value)
   at lambda_method1204(Closure, Object, IList`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method1204(Closure, Object, IList`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method1204(Closure, Object, IList`1, ResolutionContext)
   at SoftKiwiFlorist.Services.CartItemService.FetchEntitiesAsync(CartQueryModel queryParams)
   at SoftKiwiFlorist.Controllers.CartItemController.GetCartItems(CartQueryModel queryParams)
2024-08-23 10:15:38.074 +07:00 [Error] Exception: "Error mapping types.

Mapping types:
List`1 -> IList`1
System.Collections.Generic.List`1[[SoftKiwiFlorist.Models.Entities.CartItem, SoftKiwiFlorist, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.IList`1[[SoftKiwiFlorist.Models.DTOs.CartItemResDTO, SoftKiwiFlorist, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
List`1 -> IList`1
System.Collections.Generic.List`1[[SoftKiwiFlorist.Models.Entities.CartItem, SoftKiwiFlorist, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.IList`1[[SoftKiwiFlorist.Models.DTOs.CartItemResDTO, SoftKiwiFlorist, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
CartItem -> CartItemResDTO
SoftKiwiFlorist.Models.Entities.CartItem -> SoftKiwiFlorist.Models.DTOs.CartItemResDTO

Type Map configuration:
CartItem -> CartItemResDTO
SoftKiwiFlorist.Models.Entities.CartItem -> SoftKiwiFlorist.Models.DTOs.CartItemResDTO

Destination Member:
ProductPrice

 ---> System.MissingMethodException: Attempted to invoke a deleted method implementation. This can happen when a method is deleted or its name or signature is changed while the application is running.
   at SoftKiwiFlorist.Models.DTOs.CartItemResDTO.set_ProductPrice(String value)
   at lambda_method1204(Closure, Object, IList`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method1204(Closure, Object, IList`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method1204(Closure, Object, IList`1, ResolutionContext)
   at SoftKiwiFlorist.Services.CartItemService.FetchEntitiesAsync(CartQueryModel queryParams)
   at SoftKiwiFlorist.Controllers.CartItemController.GetCartItems(CartQueryModel queryParams)
2024-08-23 10:22:08.367 +07:00 [Error] Exception: "You are unauthenticated"
SoftKiwiFlorist.Helpers.UnauthorizedException: You are unauthenticated
   at SoftKiwiFlorist.Areas.Account.Services.AccountService.LogoutAccountAsync(LogoutModel model) in E:\Product\SoftKiwiFlorist\WebAPI\Areas\Account\Services\AccountService.cs:line 285
   at SoftKiwiFlorist.Areas.Account.Controllers.AccountController.LogoutAccount(String userId) in E:\Product\SoftKiwiFlorist\WebAPI\Areas\Account\Controllers\AccountController.cs:line 362
2024-08-23 10:22:09.075 +07:00 [Error] Exception: "You are unauthenticated"
SoftKiwiFlorist.Helpers.UnauthorizedException: You are unauthenticated
   at SoftKiwiFlorist.Areas.Account.Services.AccountService.LogoutAccountAsync(LogoutModel model) in E:\Product\SoftKiwiFlorist\WebAPI\Areas\Account\Services\AccountService.cs:line 285
   at SoftKiwiFlorist.Areas.Account.Controllers.AccountController.LogoutAccount(String userId) in E:\Product\SoftKiwiFlorist\WebAPI\Areas\Account\Controllers\AccountController.cs:line 362
2024-08-23 10:22:09.215 +07:00 [Error] Exception: "You are unauthenticated"
SoftKiwiFlorist.Helpers.UnauthorizedException: You are unauthenticated
   at SoftKiwiFlorist.Areas.Account.Services.AccountService.LogoutAccountAsync(LogoutModel model) in E:\Product\SoftKiwiFlorist\WebAPI\Areas\Account\Services\AccountService.cs:line 285
   at SoftKiwiFlorist.Areas.Account.Controllers.AccountController.LogoutAccount(String userId) in E:\Product\SoftKiwiFlorist\WebAPI\Areas\Account\Controllers\AccountController.cs:line 362
2024-08-23 11:59:19.296 +07:00 [Error] Exception: "Missing type map configuration or unsupported mapping.

Mapping types:
OrderStatusProxy -> OrderStatusDTO
Castle.Proxies.OrderStatusProxy -> SoftKiwiFlorist.Models.DTOs.OrderStatusDTO"
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
OrderStatusProxy -> OrderStatusDTO
Castle.Proxies.OrderStatusProxy -> SoftKiwiFlorist.Models.DTOs.OrderStatusDTO
   at lambda_method145(Closure, Object, OrderStatusDTO, ResolutionContext)
   at SoftKiwiFlorist.Services.Base.BaseReaderService`3.FecthEntityByConditionAsync(Expression`1 condition)
   at SoftKiwiFlorist.Areas.Customer.Services.CustomerOrderService.PlaceOrder(OrderReqDTO model)
   at SoftKiwiFlorist.Areas.Customer.Controllers.CustomerOrderController.CreateOrder(OrderReqDTO model)
2024-08-23 12:08:24.177 +07:00 [Error] Exception: "Error mapping types.

Mapping types:
Order -> OrderResDTO
SoftKiwiFlorist.Models.Entities.Order -> SoftKiwiFlorist.Models.DTOs.OrderResDTO

Type Map configuration:
Order -> OrderResDTO
SoftKiwiFlorist.Models.Entities.Order -> SoftKiwiFlorist.Models.DTOs.OrderResDTO

Destination Member:
OrderDetails
"
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
Order -> OrderResDTO
SoftKiwiFlorist.Models.Entities.Order -> SoftKiwiFlorist.Models.DTOs.OrderResDTO

Type Map configuration:
Order -> OrderResDTO
SoftKiwiFlorist.Models.Entities.Order -> SoftKiwiFlorist.Models.DTOs.OrderResDTO

Destination Member:
OrderDetails

 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
OrderDetail -> OrderDetailReqDTO
SoftKiwiFlorist.Models.Entities.OrderDetail -> SoftKiwiFlorist.Models.DTOs.OrderDetailReqDTO
   at lambda_method292(Closure, OrderDetail, OrderDetailReqDTO, ResolutionContext)
   at lambda_method291(Closure, Object, OrderResDTO, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method291(Closure, Object, OrderResDTO, ResolutionContext)
   at SoftKiwiFlorist.Areas.Customer.Services.CustomerOrderService.CreateEntityAsync(OrderReqDTO model)
   at SoftKiwiFlorist.Areas.Customer.Services.CustomerOrderService.PlaceOrder(OrderReqDTO model)
   at SoftKiwiFlorist.Areas.Customer.Controllers.CustomerOrderController.CreateOrder(OrderReqDTO model)
2024-08-23 12:15:55.284 +07:00 [Error] An unhandled exception has occurred while executing the request.
System.MissingMethodException: Attempted to invoke a deleted method implementation. This can happen when a method is deleted or its name or signature is changed while the application is running.
   at SoftKiwiFlorist.Models.DTOs.OrderDTO.get_OrderDetails()
   at Microsoft.Extensions.Internal.PropertyHelper.CallNullSafePropertyGetter[TDeclaringType,TValue](Func`2 getter, Object target)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinder.BindPropertyAsync(ModelBindingContext bindingContext, ModelMetadata property, IModelBinder propertyBinder, String fieldName, String modelName)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinder.BindPropertiesAsync(ModelBindingContext bindingContext, Int32 propertyData, IReadOnlyList`1 boundProperties)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinder.BindModelCoreAsync(ModelBindingContext bindingContext, Int32 propertyData)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.BindModelAsync(ActionContext actionContext, IModelBinder modelBinder, IValueProvider valueProvider, ParameterDescriptor parameter, ModelMetadata metadata, Object value, Object container)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerBinderDelegateProvider.<>c__DisplayClass0_0.<<CreateBinderDelegate>g__Bind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-08-23 12:16:08.117 +07:00 [Error] An unhandled exception has occurred while executing the request.
System.MissingMethodException: Attempted to invoke a deleted method implementation. This can happen when a method is deleted or its name or signature is changed while the application is running.
   at SoftKiwiFlorist.Models.DTOs.OrderDTO.get_OrderDetails()
   at Microsoft.Extensions.Internal.PropertyHelper.CallNullSafePropertyGetter[TDeclaringType,TValue](Func`2 getter, Object target)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinder.BindPropertyAsync(ModelBindingContext bindingContext, ModelMetadata property, IModelBinder propertyBinder, String fieldName, String modelName)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinder.BindPropertiesAsync(ModelBindingContext bindingContext, Int32 propertyData, IReadOnlyList`1 boundProperties)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinder.BindModelCoreAsync(ModelBindingContext bindingContext, Int32 propertyData)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.BindModelAsync(ActionContext actionContext, IModelBinder modelBinder, IValueProvider valueProvider, ParameterDescriptor parameter, ModelMetadata metadata, Object value, Object container)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerBinderDelegateProvider.<>c__DisplayClass0_0.<<CreateBinderDelegate>g__Bind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-08-23 12:16:46.652 +07:00 [Error] Failed executing DbCommand ("66"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (Size = 500), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (Size = 12), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (DbType = Guid), @p9='?' (Precision = 18) (Scale = 3) (DbType = Decimal), @p10='?' (Size = 450), @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p13='?' (DbType = Guid), @p14='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Orders] ([Id], [NormalizedTerm], [Note], [OrderAt], [OrderStatusId], [PhoneNumber], [ReceiverAddress], [ReceiverName], [SessionId], [TotalAmount], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
INSERT INTO [OrderStatusHistories] ([Id], [OrderId], [OrderStatusId], [UpdatedAt])
VALUES (@p11, @p12, @p13, @p14);"
2024-08-23 12:16:46.714 +07:00 [Error] An exception occurred in the database while saving changes for context type '"SoftKiwiFlorist.Models.Entities.AppDbContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_Orders_OrderStatuses\". The conflict occurred in database \"SoftKiwiFlorist\", table \"dbo.OrderStatuses\", column 'Id'.
The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_OrderStatusHistories_Orders\". The conflict occurred in database \"SoftKiwiFlorist\", table \"dbo.Orders\", column 'Id'.
The statement has been terminated.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:21c9a080-e34e-4141-8199-418332b20ee6
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Orders_OrderStatuses". The conflict occurred in database "SoftKiwiFlorist", table "dbo.OrderStatuses", column 'Id'.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_OrderStatusHistories_Orders". The conflict occurred in database "SoftKiwiFlorist", table "dbo.Orders", column 'Id'.
The statement has been terminated.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:21c9a080-e34e-4141-8199-418332b20ee6
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-08-23 12:16:46.737 +07:00 [Error] Exception: "An error occurred while saving the entity changes. See the inner exception for details."
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Orders_OrderStatuses". The conflict occurred in database "SoftKiwiFlorist", table "dbo.OrderStatuses", column 'Id'.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_OrderStatusHistories_Orders". The conflict occurred in database "SoftKiwiFlorist", table "dbo.Orders", column 'Id'.
The statement has been terminated.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:21c9a080-e34e-4141-8199-418332b20ee6
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at SoftKiwiFlorist.Repositories.Base.UnitOfWork.SaveChangesAsync() in E:\Product\SoftKiwiFlorist\WebAPI\Repositories\Base\UnitOfWork.cs:line 18
   at SoftKiwiFlorist.Areas.Customer.Services.CustomerOrderService.PlaceOrder(OrderReqDTO model) in E:\Product\SoftKiwiFlorist\WebAPI\Areas\Customer\Services\OrderService.cs:line 85
   at SoftKiwiFlorist.Areas.Customer.Controllers.CustomerOrderController.CreateOrder(OrderReqDTO model) in E:\Product\SoftKiwiFlorist\WebAPI\Areas\Customer\Controllers\OrderController.cs:line 31
2024-08-23 12:27:40.107 +07:00 [Error] Failed executing DbCommand ("41"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (Precision = 18) (Scale = 3) (DbType = Decimal), @p2='?' (Precision = 18) (Scale = 3) (DbType = Decimal), @p3='?' (DbType = Guid), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 3) (DbType = Decimal), @p7='?' (Precision = 18) (Scale = 3) (DbType = Decimal), @p8='?' (DbType = Guid), @p9='?' (Precision = 18) (Scale = 3) (DbType = Decimal), @p10='?' (Precision = 18) (Scale = 3) (DbType = Decimal), @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p13='?' (DbType = Int32), @p14='?' (Precision = 18) (Scale = 3) (DbType = Decimal), @p15='?' (Precision = 18) (Scale = 3) (DbType = Decimal), @p16='?' (DbType = Guid), @p17='?' (Precision = 18) (Scale = 3) (DbType = Decimal), @p18='?' (Precision = 18) (Scale = 3) (DbType = Decimal), @p19='?' (DbType = Guid), @p20='?' (DbType = Guid), @p21='?' (DbType = Int32), @p22='?' (Precision = 18) (Scale = 3) (DbType = Decimal), @p23='?' (Precision = 18) (Scale = 3) (DbType = Decimal), @p24='?' (DbType = Guid), @p25='?' (Precision = 18) (Scale = 3) (DbType = Decimal), @p26='?' (Precision = 18) (Scale = 3) (DbType = Decimal), @p27='?' (DbType = Guid), @p28='?' (DbType = Guid), @p29='?' (DbType = Int32), @p30='?' (Precision = 18) (Scale = 3) (DbType = Decimal), @p31='?' (Precision = 18) (Scale = 3) (DbType = Decimal), @p32='?' (DbType = Guid), @p33='?' (Size = 500), @p34='?' (Size = 4000), @p35='?' (DbType = DateTime), @p36='?' (DbType = Guid), @p37='?' (Size = 12), @p38='?' (Size = 256), @p39='?' (Size = 256), @p40='?' (DbType = Guid), @p41='?' (Precision = 18) (Scale = 3) (DbType = Decimal), @p42='?' (Size = 450), @p43='?' (DbType = Guid), @p44='?' (DbType = Guid), @p45='?' (DbType = Guid), @p46='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [OrderDetails] ([Id], [Discount], [DiscountPercentage], [OrderId], [ProductId], [Quantity], [TotalPrice], [UnitPrice])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7),
(@p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15),
(@p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23),
(@p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31);
INSERT INTO [Orders] ([Id], [NormalizedTerm], [Note], [OrderAt], [OrderStatusId], [PhoneNumber], [ReceiverAddress], [ReceiverName], [SessionId], [TotalAmount], [UserId])
VALUES (@p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42);
INSERT INTO [OrderStatusHistories] ([Id], [OrderId], [OrderStatusId], [UpdatedAt])
VALUES (@p43, @p44, @p45, @p46);"
2024-08-23 12:27:40.111 +07:00 [Error] An exception occurred in the database while saving changes for context type '"SoftKiwiFlorist.Models.Entities.AppDbContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_OrderDetails_Orders\". The conflict occurred in database \"SoftKiwiFlorist\", table \"dbo.Orders\", column 'Id'.
The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_Orders_OrderStatuses\". The conflict occurred in database \"SoftKiwiFlorist\", table \"dbo.OrderStatuses\", column 'Id'.
The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_OrderStatusHistories_Orders\". The conflict occurred in database \"SoftKiwiFlorist\", table \"dbo.Orders\", column 'Id'.
The statement has been terminated.
The statement has been terminated.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:06e1bca0-b6d9-4a59-808f-05c7171f1131
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_OrderDetails_Orders". The conflict occurred in database "SoftKiwiFlorist", table "dbo.Orders", column 'Id'.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Orders_OrderStatuses". The conflict occurred in database "SoftKiwiFlorist", table "dbo.OrderStatuses", column 'Id'.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_OrderStatusHistories_Orders". The conflict occurred in database "SoftKiwiFlorist", table "dbo.Orders", column 'Id'.
The statement has been terminated.
The statement has been terminated.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:06e1bca0-b6d9-4a59-808f-05c7171f1131
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-08-23 12:28:24.252 +07:00 [Error] Failed executing DbCommand ("27"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (Precision = 18) (Scale = 3) (DbType = Decimal), @p2='?' (Precision = 18) (Scale = 3) (DbType = Decimal), @p3='?' (DbType = Guid), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 3) (DbType = Decimal), @p7='?' (Precision = 18) (Scale = 3) (DbType = Decimal), @p8='?' (DbType = Guid), @p9='?' (Precision = 18) (Scale = 3) (DbType = Decimal), @p10='?' (Precision = 18) (Scale = 3) (DbType = Decimal), @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p13='?' (DbType = Int32), @p14='?' (Precision = 18) (Scale = 3) (DbType = Decimal), @p15='?' (Precision = 18) (Scale = 3) (DbType = Decimal), @p16='?' (DbType = Guid), @p17='?' (Precision = 18) (Scale = 3) (DbType = Decimal), @p18='?' (Precision = 18) (Scale = 3) (DbType = Decimal), @p19='?' (DbType = Guid), @p20='?' (DbType = Guid), @p21='?' (DbType = Int32), @p22='?' (Precision = 18) (Scale = 3) (DbType = Decimal), @p23='?' (Precision = 18) (Scale = 3) (DbType = Decimal), @p24='?' (DbType = Guid), @p25='?' (Precision = 18) (Scale = 3) (DbType = Decimal), @p26='?' (Precision = 18) (Scale = 3) (DbType = Decimal), @p27='?' (DbType = Guid), @p28='?' (DbType = Guid), @p29='?' (DbType = Int32), @p30='?' (Precision = 18) (Scale = 3) (DbType = Decimal), @p31='?' (Precision = 18) (Scale = 3) (DbType = Decimal), @p32='?' (DbType = Guid), @p33='?' (Size = 500), @p34='?' (Size = 4000), @p35='?' (DbType = DateTime), @p36='?' (DbType = Guid), @p37='?' (Size = 12), @p38='?' (Size = 256), @p39='?' (Size = 256), @p40='?' (DbType = Guid), @p41='?' (Precision = 18) (Scale = 3) (DbType = Decimal), @p42='?' (Size = 450), @p43='?' (DbType = Guid), @p44='?' (DbType = Guid), @p45='?' (DbType = Guid), @p46='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [OrderDetails] ([Id], [Discount], [DiscountPercentage], [OrderId], [ProductId], [Quantity], [TotalPrice], [UnitPrice])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7),
(@p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15),
(@p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23),
(@p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31);
INSERT INTO [Orders] ([Id], [NormalizedTerm], [Note], [OrderAt], [OrderStatusId], [PhoneNumber], [ReceiverAddress], [ReceiverName], [SessionId], [TotalAmount], [UserId])
VALUES (@p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42);
INSERT INTO [OrderStatusHistories] ([Id], [OrderId], [OrderStatusId], [UpdatedAt])
VALUES (@p43, @p44, @p45, @p46);"
2024-08-23 12:28:24.400 +07:00 [Error] An exception occurred in the database while saving changes for context type '"SoftKiwiFlorist.Models.Entities.AppDbContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_OrderDetails_Orders\". The conflict occurred in database \"SoftKiwiFlorist\", table \"dbo.Orders\", column 'Id'.
The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_Orders_OrderStatuses\". The conflict occurred in database \"SoftKiwiFlorist\", table \"dbo.OrderStatuses\", column 'Id'.
The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_OrderStatusHistories_Orders\". The conflict occurred in database \"SoftKiwiFlorist\", table \"dbo.Orders\", column 'Id'.
The statement has been terminated.
The statement has been terminated.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:584e1740-6421-43f5-8498-63f3cf3b7b04
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_OrderDetails_Orders". The conflict occurred in database "SoftKiwiFlorist", table "dbo.Orders", column 'Id'.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Orders_OrderStatuses". The conflict occurred in database "SoftKiwiFlorist", table "dbo.OrderStatuses", column 'Id'.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_OrderStatusHistories_Orders". The conflict occurred in database "SoftKiwiFlorist", table "dbo.Orders", column 'Id'.
The statement has been terminated.
The statement has been terminated.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:584e1740-6421-43f5-8498-63f3cf3b7b04
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-08-23 12:31:21.812 +07:00 [Error] Exception: "Error mapping types.

Mapping types:
Order -> OrderResDTO
SoftKiwiFlorist.Models.Entities.Order -> SoftKiwiFlorist.Models.DTOs.OrderResDTO

Type Map configuration:
Order -> OrderResDTO
SoftKiwiFlorist.Models.Entities.Order -> SoftKiwiFlorist.Models.DTOs.OrderResDTO

Destination Member:
OrderDetails
"
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
Order -> OrderResDTO
SoftKiwiFlorist.Models.Entities.Order -> SoftKiwiFlorist.Models.DTOs.OrderResDTO

Type Map configuration:
Order -> OrderResDTO
SoftKiwiFlorist.Models.Entities.Order -> SoftKiwiFlorist.Models.DTOs.OrderResDTO

Destination Member:
OrderDetails

 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
OrderDetail -> OrderDetailReqDTO
SoftKiwiFlorist.Models.Entities.OrderDetail -> SoftKiwiFlorist.Models.DTOs.OrderDetailReqDTO
   at lambda_method606(Closure, OrderDetail, OrderDetailReqDTO, ResolutionContext)
   at lambda_method605(Closure, Object, OrderResDTO, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method605(Closure, Object, OrderResDTO, ResolutionContext)
   at SoftKiwiFlorist.Areas.Customer.Services.CustomerOrderService.CreateEntityAsync(OrderReqDTO model)
   at SoftKiwiFlorist.Areas.Customer.Services.CustomerOrderService.PlaceOrder(OrderReqDTO model)
   at SoftKiwiFlorist.Areas.Customer.Controllers.CustomerOrderController.CreateOrder(OrderReqDTO model)
